{"version":3,"file":"js/MegaMenu.es6.js","mappings":"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","sources":["webpack://gesso/webpack/bootstrap","webpack://gesso/webpack/runtime/make namespace object","webpack://gesso/./source/03-components/mega-menu/modules/MegaMenu.es6.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Megamenu using the W3C Disclosure Menu pattern.\n * @see https://w3c.github.io/aria-practices/examples/disclosure/js/disclosureMenu.js\n */\nclass MegaMenu {\n  /**\n   * @constructor\n   * @param {HTMLElement} domNode - The menu DOM element\n   * @param {boolean} useArrowKeys - Whether to enable navigating by arrow keys\n   * @return {void}\n   */\n  constructor(domNode, { useArrowKeys = true } = {}) {\n    this.menu = domNode;\n    this.menuSections = [];\n    this.openIndex = null;\n    this.useArrowKeys = useArrowKeys;\n    this.topLevelItems = Array.from(\n      this.menu.querySelectorAll('button[aria-expanded][aria-controls]')\n    );\n    if (this.useArrowKeys) {\n      this.topLevelItems = [\n        ...this.topLevelItems,\n        ...Array.from(this.menu.querySelectorAll('a.js-top-level')),\n      ];\n    }\n    this.handleClickAnywhere = this.handleClickAnywhere.bind(this);\n    this.handleKeydownAnywhere = this.handleKeydownAnywhere.bind(this);\n  }\n\n  /**\n   * Show/hide a section.\n   * @param {HTMLElement} section - The menu section to toggle.\n   * @param {boolean} hide - If true, the menu section will be hidden\n   *  regardless of its current state\n   * @return {void}\n   */\n  toggleSection(section, hide) {\n    if (hide) {\n      section.hidden = true;\n    } else {\n      section.hidden = !section.hidden;\n    }\n    const focusable = section.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]'\n    );\n    focusable.forEach(focusableItem => {\n      focusableItem.tabIndex = section.hidden ? -1 : 0;\n    });\n    if (!section.hidden) {\n      focusable[0].focus();\n    }\n  }\n\n  /**\n   * Expand/collapse a menu section.\n   * @param {number} index - The index of the section to toggle.\n   * @param {boolean} expanded - If TRUE, the section will be revealed.\n   * @return {void}\n   */\n  toggleExpand(index, expanded) {\n    if (this.openIndex !== index) {\n      this.toggleExpand(this.openIndex, false);\n    }\n    if (this.topLevelItems[index]) {\n      if (this.openIndex === null) {\n        this.openMenu();\n      }\n      this.openIndex = expanded ? index : null;\n      this.topLevelItems[index].setAttribute(\n        'aria-expanded',\n        expanded ? 'true' : 'false'\n      );\n      this.toggleSection(this.menuSections[index], !expanded);\n      if (this.openIndex === null) {\n        this.closeMenu();\n      }\n    }\n  }\n\n  /**\n   * Handle navigation key events.\n   * @param {KeyboardEvent} event - The keyboard event\n   * @param {HTMLElement[]} menuLinks - Array of menu links to navigate through\n   * @param {number} currentIndex - Array index of the currently focused menu link\n   * @return {void}\n   */\n  controlFocusByKey(event, menuLinks, currentIndex) {\n    switch (event.key) {\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        event.preventDefault();\n        if (currentIndex > -1) {\n          const prevIndex = Math.max(0, currentIndex - 1);\n          menuLinks[prevIndex].focus();\n        }\n        break;\n      case 'ArrowDown':\n      case 'ArrowRight':\n        event.preventDefault();\n        if (currentIndex > -1) {\n          const nextIndex = Math.min(menuLinks.length - 1, currentIndex + 1);\n          menuLinks[nextIndex].focus();\n        }\n        break;\n      case 'Home':\n        event.preventDefault();\n        menuLinks[0].focus();\n        break;\n      case 'End':\n        event.preventDefault();\n        menuLinks[menuLinks.length - 1].focus();\n        break;\n      default:\n        // Do nothing.\n        break;\n    }\n  }\n\n  /**\n   * Handle keydown events on a menu section.\n   * @param {KeyboardEvent} event - The keydown event\n   * @return {void}\n   */\n  handleSectionKeydown(event) {\n    if (this.openIndex === null || !this.useArrowKeys) return;\n\n    const menuLinks = [\n      ...this.menuSections[this.openIndex].querySelectorAll('a, button'),\n    ];\n    const currentIndex = menuLinks.indexOf(document.activeElement);\n    this.controlFocusByKey(event, menuLinks, currentIndex);\n  }\n\n  /**\n   * Handle clicks on a top-level button.\n   * @param {MouseEvent} event - The click event.\n   * @return {void}\n   */\n  handleButtonClick(event) {\n    const { currentTarget } = event;\n    const buttonIndex = this.topLevelItems.indexOf(currentTarget);\n    this.toggleExpand(\n      buttonIndex,\n      currentTarget.getAttribute('aria-expanded') !== 'true'\n    );\n  }\n\n  /**\n   * Handle keydown events on a top-level button.\n   * @param {KeyboardEvent} event - The keydown event\n   * @return {void}\n   */\n  handleButtonKeydown(event) {\n    if (!this.useArrowKeys) return;\n    const targetButtonIndex = this.topLevelItems.indexOf(\n      document.activeElement\n    );\n    if (this.openIndex === targetButtonIndex && event.key === 'ArrowDown') {\n      event.preventDefault();\n      this.menuSections[this.openIndex].querySelector('a, button').focus();\n    } else {\n      this.controlFocusByKey(event, this.topLevelItems, targetButtonIndex);\n    }\n  }\n\n  /**\n   * Handle keydown events on a top-level link.\n   * @param {KeyboardEvent} event - The keydown event\n   * @return {void}\n   */\n  handleLinkKeydown(event) {\n    if (!this.useArrowKeys) return;\n    const targetLinkIndex = this.topLevelItems.indexOf(document.activeElement);\n    this.controlFocusByKey(event, this.topLevelItems, targetLinkIndex);\n  }\n\n  /**\n   * Handle clicks on a close button.\n   * @param {MouseEvent} event\n   * @return {void}\n   */\n  handleCloseClick(event) {\n    event.preventDefault();\n    this.toggleExpand(this.openIndex, false);\n  }\n\n  /**\n   * Prep a top-level button and menu subsection.\n   * @param {HTMLButtonElement} button - The button that will toggle the menu section\n   * @return {void}\n   */\n  prepSection(button) {\n    const section = button.parentNode.querySelector('.c-mega-menu__section');\n    if (!section) return;\n    const closeButton = section.querySelector('.c-mega-menu__section-close');\n    this.menuSections.push(section);\n    button.setAttribute('aria-expanded', 'false');\n    this.toggleSection(section, true);\n    section.addEventListener('keydown', this.handleSectionKeydown.bind(this));\n    button.addEventListener('click', this.handleButtonClick.bind(this));\n    button.addEventListener('keydown', this.handleButtonKeydown.bind(this));\n    closeButton.addEventListener('click', this.handleCloseClick.bind(this));\n  }\n\n  /**\n   * Prep a top-level menu link, which will not have a subsection.\n   * @param {HTMLAnchorElement} link - The menu link\n   * @return {void}\n   */\n  prepLink(link) {\n    this.menuSections.push(null);\n    link.addEventListener('keydown', this.handleLinkKeydown.bind(this));\n  }\n\n  /**\n   * Close the menu if the user clicks outside it.\n   * @param {MouseEvent} event - The click event\n   * @return {void}\n   */\n  handleClickAnywhere(event) {\n    if (!event.target.closest('.c-mega-menu')) {\n      this.toggleExpand(this.openIndex, false);\n      this.closeMenu();\n    }\n  }\n\n  /**\n   * Close the menu if the user hits the ESC key.\n   * @param {KeyboardEvent} event - The keydown event\n   * @return {void}\n   */\n  handleKeydownAnywhere(event) {\n    if (event.key === 'Escape' && this.openIndex !== null) {\n      this.menuSections[this.openIndex].focus();\n      this.toggleExpand(this.openIndex, false);\n      this.closeMenu();\n    } else if (event.key === 'Tab') {\n      setTimeout(() => {\n        if (document.activeElement.classList.contains('js-top-level')) {\n          const openButton = this.menu.querySelector(\n            'button[aria-expanded=\"true\"]'\n          );\n          if (openButton) {\n            const buttonIndex = this.topLevelItems.indexOf(openButton);\n            this.toggleExpand(buttonIndex, false);\n          }\n        }\n      }, 0);\n    }\n  }\n\n  /**\n   * Remove event listeners when all menu sections closed.\n   * @return {void}\n   */\n  closeMenu() {\n    window.removeEventListener('click', this.handleClickAnywhere);\n    window.removeEventListener('keydown', this.handleKeydownAnywhere);\n  }\n\n  /**\n   * Add event listeners when any menu section open.\n   * @return {void}\n   */\n  openMenu() {\n    window.addEventListener('click', this.handleClickAnywhere);\n    window.addEventListener('keydown', this.handleKeydownAnywhere);\n  }\n\n  /**\n   * Initialize the mega menu.\n   * @return {void}\n   */\n  init() {\n    this.topLevelItems.forEach(item => {\n      if (item.tagName === 'BUTTON') {\n        this.prepSection(item);\n      } else {\n        this.prepLink(item);\n      }\n    });\n  }\n}\n\nexport default MegaMenu;\n"],"names":["MegaMenu","constructor","domNode","useArrowKeys","menu","menuSections","openIndex","topLevelItems","Array","from","querySelectorAll","handleClickAnywhere","bind","handleKeydownAnywhere","toggleSection","section","hide","hidden","focusable","forEach","focusableItem","tabIndex","focus","toggleExpand","index","expanded","openMenu","setAttribute","closeMenu","controlFocusByKey","event","menuLinks","currentIndex","key","preventDefault","prevIndex","Math","max","nextIndex","min","length","handleSectionKeydown","indexOf","document","activeElement","handleButtonClick","currentTarget","buttonIndex","getAttribute","handleButtonKeydown","targetButtonIndex","querySelector","handleLinkKeydown","targetLinkIndex","handleCloseClick","prepSection","button","parentNode","closeButton","push","addEventListener","prepLink","link","target","closest","setTimeout","classList","contains","openButton","window","removeEventListener","init","item","tagName"],"sourceRoot":""}